<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<title>Document</title>
	<script data-js-path="redraw.js">
        !(function(f,o){var a=navigator.userAgent,b=/iphone|ipad|ipod/i.test(a),i=/android/ig.test(a),j=/Mobile/i.test(a)||b||i;var n=document.querySelector("[name=viewport]"),k=b?window.devicePixelRatio?Math.min(window.devicePixelRatio,3):1:1,c=document.documentElement,l=k*(c.dataset.mw||750),d=1/k,e;f=f||320;o=o||16;if(n){var h=n.content||"",g=h.match(/initial\-scale=([\d\.]+)/);if(g){h=h.replace(/initial\-scale=([\d\.]+)/,"initial-scale="+d)}else{h+=",initial-scale="+d}n.content=h.replace(/minimum\-scale=([\d\.]+)/,"").replace(/maximum\-scale=([\d\.]+)/,"")}else{n=doc.createElement("meta");n.name="viewport";n.content="maximum-scale="+d+",minimum-scale="+d+",user-scalable=0,width=device-width;initial-scale="+d;c.firstElementChild.appendChild(n)}var m=function(){var q=window.innerWidth;var p=Math.min(q,l)/f*o;c.style.fontSize=p+"px"};if(j){window.addEventListener("resize",function(){clearTimeout(e);e=setTimeout(m,300)},false);m()}else{c.style.fontSize="16px"}})(320,16);
    </script>
	<link rel="stylesheet" href="css/swiper.min.css">
	<link rel="stylesheet" href="css/reset.css">
	<link rel="stylesheet" href="css/commonality-btn.css">
	<link rel="stylesheet" href="css/index.css">
</head>
<body>
	<div id="container">
	 <div class="gl-bg1 gl-page1" v-show="showIndex">
        	<div class="gl-page1-head">
        		<img src="img/logo-2.png" alt="" class="gl-logo"/>
        		<div class="gl-page-inner">
        			<h3 class="gl-QA-title">健康自测问卷</h3>
	 				<p class="gl-QA-title2">HEALTH SELF - TEST QUESTIONNAIRE</p>
        		</div>
        	</div>
        	<div class="gl-page1-foot">
	 				<button class="btn btn-green" 
	 					@click="indexStart()">开始测试</button>
	 				<p class="pl-page1-explain">生命花园Garden of Life就以“助力非凡健康”为己任<br>我们的目标则是为消费者提供最干净、最优质的
	 				<br/>全食物营养成分</p>	
	 				
        	</div>
        </div>
		<div class="swiper-container"  
			v-swiper="swiperOptions" 
			ref="swiper"
			v-show="!showResult && !showIndex">
	        <div class="swiper-wrapper">
	            <div class="swiper-slide gl-bg2">
				 	<div class="gl-QA-wrapper">
		            	<div class="gl-QA-inner">
				 		 	<img src="img/logo-2.png" alt="" class="gl-logo"/>
				 			<h3 class="gl-QA-title">健康自测问卷</h3>
				 			<p class="gl-QA-title2">HEALTH SELF - TEST QUESTIONNAIRE</p>
				 			<div class="gl-main">
					 			<div class="gl-QA-type">{{typeMap[0]}}
					 			</div>
					 			<ul class="gl-physical-form">
					 				<li>性别
					 				<span class="gl-physical-gender">
					 					<label 
			 								class="gl-radio-box">
			 								<input type="radio" :name="'answer_sex'">
			 								<span class="gl-radio"></span>
			 								男
			 							</label>
			 						</span>
					 				<span class="gl-physical-gender">
					 					<label 
			 								class="gl-radio-box">
			 								<input type="radio" :name="'answer_sex'">
			 								<span class="gl-radio"></span>
			 								女
			 							</label>
					 				</span>	
					 				</li>
					 				<li class="gl-physical-form-inner">
					 					身高<input type="number" v-model="stature" @change="bmiUpdate"><span>CM</span>
					 				</li>
					 				<li class="gl-physical-form-inner">
					 					体重<input type="number" @change="bmiUpdate" v-model="weight"><span>KG</span>
					 				</li>
					 			</ul>
					 			<p class="gl-explain gl-describe">
					 				BMI（体重指数）=体重（kg）/身高 &sup2;（cm）BMI是判断人体是否肥胖及肥胖程度的重要指标，其参考范围如下
					 			</p>
					 			<div class="gl-bmi-formula">BMI = <span>{{bmiValueToFixed}}</span></div>
				 				<div class="gl-describe">
				 					过低：＜18.5     正常：18.5~23
				 				</div>
				 				<div class="gl-describe">
				 					超重：23~27.4   肥胖：＞27.4
				 				</div>
					 			<div class="gl-QA-btn-box">
					 				<button class="btn btn-green" 
					 					@click="returnIndex()">首页</button>
					 				<button class="btn btn-green"
					 				@click="slideNext()">下一页</button>
					 			</div>				 				
				 			</div>
				 		</div>
				 	</div>
	            </div>
	            <div class="swiper-slide gl-bg2" v-for="(item,index) in list">
				 	<div class="gl-QA-wrapper">
			 		 	<div class="gl-QA-inner">
			 		 	<img src="img/logo-2.png" alt="" class="gl-logo"/>
			 			<h3 class="gl-QA-title">健康自测问卷</h3>
			 			<p class="gl-QA-title2">HEALTH SELF - TEST QUESTIONNAIRE</p>
			 			<div class="gl-main">				 				
				 			<div class="gl-QA-type">{{typeMap[item.type-1]}}
				 			</div>
				 			<dl class="gl-QA-list">
				 				<dt>{{index+1+"."+item.query}}</dt>
				 				<dd class="gl-describe">{{item.value}}</dd>
				 				<dd>
				 					<ul>
				 						<li v-for="(answer,index2) in item.answer">
				 							<label 
				 								class="gl-radio-box"
				 								@change="selectOptions(answer.grade,item.type,index+1)">
				 								<input type="radio" :name="'answer_'+index">
				 								<span class="gl-radio"></span>					 {{optionMap[index2]}}.
					 							{{answer.text}}
				 							</label>
				 						</li>
				 					</ul>
				 				</dd>
				 			</dl>
				 			<div class="gl-QA-btn-box">
				 				<button class="btn btn-green" 
				 					@click="slidePrev()">上一页</button>
				 				<button class="btn btn-green" v-if="index != list.length-1"
				 				@click="slideNext()">下一页</button>
				 				<button class="btn btn-green" @click="submit" v-if="index == list.length-1">提交</button>
				 			</div> 
				 		 	</div>
				 		</div>
				 	</div>
	            </div>
	        </div>
	    </div>
	    <div class="gl-conclusion gl-bg3" v-show="showResult">
    		<img src="img/logo-1.png" alt="" class="gl-logo"/>
			<h3 class="gl-QA-title">健康自测问卷</h3>
			<p class="gl-QA-title2">HEALTH SELF - TEST QUESTIONNAIRE</p>
        	<h3 class="gl-conclusion-title1">评分</h3>
        	<div class="gl-conclusion-total">{{total}}</div>
        	<div class="gl-conclusion-chart" v-echarts ref="echarts">
        	</div>
        	<div class="gl-conclusion-main">
	        	<div class="gl-total-text"></div>
				<dl class="gl-conclusion-list">
					<template v-for="(val,key) in comments">
						<dt  class="gl-conclusion-type">{{key}}</dt>
						<dd v-html="val"></dd>
					</template>
				</dl>
	        	<img src="img/lanzi.png" alt="" class="gl-product-img">
	        	<div class="gl-conclusion-btn-box">
	        		<button class="btn btn-green" @click="reset">在一次</button>
	        		<button class="btn btn-green" @click="openShare">分享</button>
	        	</div>

        	</div>
	    </div>
	    <div class="gl-share" v-show="showShare" @click="closeShare"></div>
	</div>
	
<script src="js/vue.js"></script>
<script src="js/swiper.min.js"></script>
<script src="js/echarts.min.js"></script>
<script src="js/config.js"></script>
<script src="http://static.fancysmp.com/activity/libs/jskit.js"></script>
<script src="http://static.fancysmp.com/activity/libs/jsweixin.js"></script>
<script src="js/index.js"></script>
</body>
</html>