<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		*{
			margin:0;
		}
	</style>
</head>
<body>
	<div id="sagte" style="height: 0;width: 0;"></div>
	<script>
		  function loadImage(src,callback){
	    	var img = new Image();
		    img.onload = callback;
		    img.setAttribute("crossOrigin",'Anonymous')
		    img.src = src;
		  }

		    var canvas = document.createElement('canvas');
		    canvas.width = 750;
		    canvas.height = 1334;
		    document.getElementById('sagte').append(canvas)
		    var ctx = canvas.getContext('2d');

		    loadImage('./image/bg.png?va=1',function(){
		      	ctx.drawImage(this,0,0,this.width,this.height);
		      	loadImage('http://nana.xiawan8.com/transform/image?url=http://thirdwx.qlogo.cn/mmopen/vi_32/iaPp7ClZOGcpery9cvpnQHicU5IVl9lHictOoQ9XulVazns0wJbGDm9ib93kYjf4gCS0IcPuYDc71qvdiaVDOlSWgdg/132',function(){
		      			ctx.drawImage(this,298,406,178,178);


		      // 		var pattern = ctx.createPattern(this, "no-repeat");
				    // // 绘制一个圆
				    // ctx.arc(100, 50, 50, 0, 2 * Math.PI);
				    // // 填充绘制的圆
				    // ctx.fillStyle = pattern;
				    // ctx.fill();    

				    ctx.fillStyle = '#fff';   // 文字填充颜色  
			        ctx.font = '46px Adobe Heiti Std';  
			        var nickname = '你阿发送到发';
			        var x = (750 - nickname.length * 38) / 2
			        ctx.fillText(nickname,x,705);  
			        nickname = '狗年行大运，狗年行大运，';
			        x = (750 - nickname.length * 38) / 2
			        ctx.fillText(nickname,x,835);  
			        ctx.stroke(); 

			        var img = document.createElement('img')
			        img.src = canvas.toDataURL("image/png",0.3);
			        document.body.append(img)
		      	})
		    })
	</script>
</body>
</html>