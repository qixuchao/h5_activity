<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>together always</title>
	<meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<script data-js-path="redraw.js">
        !(function(f,o){var a=navigator.userAgent,b=/iphone|ipad|ipod/i.test(a),i=/android/ig.test(a),j=/Mobile/i.test(a)||b||i;var n=document.querySelector("[name=viewport]"),k=b?window.devicePixelRatio?Math.min(window.devicePixelRatio,3):1:1,c=document.documentElement,l=k*(c.dataset.mw||750),d=1/k,e;f=f||320;o=o||16;if(n){var h=n.content||"",g=h.match(/initial\-scale=([\d\.]+)/);if(g){h=h.replace(/initial\-scale=([\d\.]+)/,"initial-scale="+d)}else{h+=",initial-scale="+d}n.content=h.replace(/minimum\-scale=([\d\.]+)/,"").replace(/maximum\-scale=([\d\.]+)/,"")}else{n=doc.createElement("meta");n.name="viewport";n.content="maximum-scale="+d+",minimum-scale="+d+",user-scalable=0,width=device-width;initial-scale="+d;c.firstElementChild.appendChild(n)}var m=function(){var q=window.innerWidth;var p=Math.min(q,l)/f*o;c.style.fontSize=p+"px"};if(j){window.addEventListener("resize",function(){clearTimeout(e);e=setTimeout(m,300)},false);m()}else{c.style.fontSize="16px"}})(375,16);
    </script>
	<link rel="stylesheet" type="text/css" href="./styles/index.css">
    <script>
	var _hmt = _hmt || [];
	(function() {
	  var hm = document.createElement("script");
	  hm.src = "https://hm.baidu.com/hm.js?45b472947281cad914aa315e6e59750f";
	  var s = document.getElementsByTagName("script")[0]; 
	  s.parentNode.insertBefore(hm, s);
	})();
	</script>
</head>
<body>
	<div class="container">
		<div class="pages">
			<div class="page page1">
				<img src="./images/page1/fogether.png" 
					alt="together" 
					class="title1 layer"
					data-direction>
				<img src="./images/page1/always.png" 
					alt="always" 
					class="title2 layer">
				<img src="./images/page1/subtitle.png" alt="" class="title3 layer">
				<img src="./images/page1/fence.png" alt="" class="fence">
				<img src="./images/page1/tree.png" alt="" class="tree layer">
				<img src="./images/page1/play.png" alt="" class="play layer">
				<img src="./images/page1/role.png" alt="" class="role">
				<img src="./images/page1/river.png" alt="" class="river">
			</div>
			<div class="page"></div>
			<div class="page"></div>
		</div>
	</div>
	<script src="./scripts/libs/zepto.min.js"></script>
	<script>

		window.addEventListener('deviceorientation', function(e){
		   console.log('absolute: ' + e.absolute)
		   console.log('alpha: ' + e.alpha)
		   console.log('beta: ' + e.beta)
		   console.log('gamma: ' + e.gamma)


		   if(e.gamma != null && e.beta != null){

		   		//Y
		   		var directionY = 1;
		   		console.log(e);

		   		if(e.gamma > 0){

		   		}else{
		   			directionY = -1
		   		}

		   		//z
		   		 var directionX = 1;
		   		if(e.beta > 0){
		   			//> top
		   		}else{
		   			 directionX = -1;

		   		}

		   		var x = Math.min(e.gamma*3,90);
		   		var y = Math.min(e.beta*3,90);

		   		$('.layer').each(function(){
		   				var $this = $(this);
		   				var direction = Number($this.attr('data-direction') || 1)

		   				$this.css("transform","translate3d("+x+"px,"+y+"px,0)")
		   				console.log(directionY,direction)
		   		});
		   }
		});
	</script>
	<script src="./scripts/libs/stats.min.js"></script>
	<script>
		var stats=new Stats();document.body.appendChild(stats.dom);requestAnimationFrame(function loop(){stats.update();requestAnimationFrame(loop)});
	</script>
</body>
</html>